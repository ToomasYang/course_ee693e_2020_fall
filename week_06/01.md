---
title: "An Empirical Study of Potentially Malicious Third-Party Libraries in Android Apps by Z. Zhang, W. Diao. C. Hu, S. Guo, C. Zuo, and L. Li" 
date: 2020-08-30
type: book
commentable: true

# Provide the name of the presenter
summary: "Presenters: Dawei Yang and Matthew Sahara"

# Provide other tags that describe the paper
tags:
- teaching
- ee693e
- mobile app security
---

***
## Paper Summary
[PROVIDE ONE PARAGRAPH SUMMARIZING OF THE PAPER (>100 WORDS)]
This paper provides a comprehensive study on the behaviors and features of potentially malicious libraries (PLMs). Authors designed and implemented an automated library extractor, LibExtractor. LibExractor can extract and cluster library candidates from large-scale apps efficiently. LibExtractor only takes one second average for processing one APK compared to the existing tools which take more than one minute. LibExtractor is resilient to package name obfuscations since it uses relative paths for each class. After abstracting and clustering a huge set of library candidates, they analyzed those candidates by scanning them with an online malware detection platform and applying behavior matching. They analyzed 217,027 apps and 316,437 malware samples and found 4,957 PLMs. They also classified those PLMs based on their malicious behaviors.
***

## Presentation
{{< youtube w7Ft2ymGmfc >}}

[PROVIDE A VIDEO RECORD OF YOUR PRESENTATION]
***

## Review
### Strengths
[SUMMARIZE THE STRENGTHS OF THE PAPER IN FULL SENTENCES (>50 WORDS)]
- This paper shows how authors design and implement an algorithm to identify and cluster library candidates in detail.
- They provide comprehensive results with what they ?

### Weaknesses
[SUMMARIZE THE WEAKNESSES OF THE PAPER IN FULL SENTENCES (>50 WORDS)]
- This paper doesn't include some key features of their design and implementation such as a pseudo-code of the Feature Value Generation Algorithm.
- [WEAKNESSES o1]
- The results of this paper are not very conclusive. Solution is clearly outlined and analyzed, but no clear conclusion/effects are drawn in context.

### Detalied Comments
[PROVIDE DETAILED EXPLIANATION OF THE STRENGHS AND WEAKNESSES LISTED ABOVE (>
200 WORDS)]
Weakness: For example, in section 3.3, they explained how the LibExtractor generates feature value for each library candidate in four rounds. They didn't clearly explain how to pick the value from the first round if two candidates got the same value from the previous round. It would be much clearer if they can provide pseudo-code.
 
In addition, this paper was not necessarily very conclusive. PMLs were identified using LibExtractor and VirusTotal,while subsequent limitations of the solution were discussed. Issues including accuracy of identification, obfuscation, clustering, and self-signed certificate discrepancies were identified in the Discussion and Limitations section, but no clear future works or conclusions were mentioned. Existing solutions featured in the paper are divided into two major categories: Third-Party Library Identification and Malware Detection. ***Matt needs to check and finish

### Implementation
[PROVIDE DETAILED EXPLIANATION OF THE CODES/DATA PROVIDED BY THE PAPER] (>
200 WORDS)]
There are five steps of the implementation. First, dessamble the input APK file by Smali, and extract six different types of dependencies. They used Baksmali, a smali compiler, to sessamble Java code to Smali code. Smali code includes many fields, and they extracted six of them for the next step. Second, build an inclusion-dependency graph, then divide the connected components. Based on the file tree that was generated by baksmali, they constructed an inclusion-dependency graph by connecting package nodes containing the same dependency. After that, they broke weakly connected components in that graph, and those separated components were defined as library candidates. Third, paths of candidates were replaced by relative paths and then ran four rounds of hashing in order to generate the unique feature value. Fourth, cluster libraries based on the feature values from the previous step. Fifth, virus scanning and harmful behavior matching, and they used an existing online malware detection platform to analyze extracted libraries and classified the PLMs by matching their behaviors.
[PROVIDE LINK(S) TO THE CODES/DATA PROVIDED BY THE PAPER](https://github.com/gustybear-teaching/course_ee693e_2020_fall)

### Experimentation
[PROVIDE FIGURES/TABLE/WRITTEN-PROOF FROM THE PAPER]
 
{{< figure src="https://github.com/gustybear-teaching/course_ee693e_2020_fall/raw/main/week_06/images/overview.png" title="Overview" width="600" >}}
 
[(OPTIONAL) PROVIDE FIGURES/TABLE/WRITTEN-PROOF FROM YOUR OWN EXPERIMENT]
 
{{< figure src="https://github.com/gustybear-teaching/course_ee693e_2020_fall/raw/main/week_06/images/overview.png" title="Overview" width="300" >}}
 
[DISCUSS THE DIFFERENCES AND CAUSES BETWEEN RESULTS, IF ANY]
 
### Questions
1. Are there any permission access or security protocol to follow in order to extract libraries using LibExtracter.
2. Could LibExtractor be used by app developers to determine if a third party library is safe to use?
3. how can LibExtractor extract libraries from large-scale apps and identify malicious libraries?
4. How accurately can LibExtractor identify repackaged libraries? It only states the percentage they detected but not how accurately it detected.
5. Since their approach depends on the dependence of classes, will it be affected if a malicious library deliberately adds (junk) classes of benign libraries?
6. Would time bombs be effective in avoiding detection from LibExtractor?
7. Do PMLs only come from 3rd party installations, or can places like Google Play also expose the phone to PMLs?
8. Could attackers hide malware by manipulating the binary of a benign library and would their software? How would they go about detecting this?
